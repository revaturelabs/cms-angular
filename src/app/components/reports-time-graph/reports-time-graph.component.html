<!-- 
  Using CanvasJS, a graph is designed and manipulated to show and simulate 
  a timeline of added contents to modules. 
 -->
<div class = "chart-container">
  <!-- A dropdown is used to stipulate a requested Time Range -->
  <div class="dropdown">	
    <h5 id = "selectedViewText" class = "float-left p-2">Selected View: {{selectedView}}</h5>
    <button class="btn btn-secondary dropdown-toggle float-right right-margin" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">	
      Change Time Range	
    </button>	
    <!-- The content of various time ranges  -->
    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">	
      <button id = "selectPastYear" type="button" class = "dropdown-item" (click) = "setGraphResults(MILLIS_PER_YEAR)">Past year</button>	
      <button id = "selectPastSixMonths" type="button" class = "dropdown-item" (click) = "setGraphResults(6 * MILLIS_PER_MONTH)">Past 6 months</button>	
      <button id = "selectPastMonth" type="button" class = "dropdown-item" (click) = "setGraphResults(MILLIS_PER_MONTH)">Past month</button>	
    </div>	
  </div>	

  <!-- *ngIf directive to stipulate a loading screen or not. -->
  <div *ngIf="reportsService.loading">
    <br>
    <br>
      <div id="loadingImage" class="spinner-border text-secondary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>
  <!-- 
    The importing of the actual data to format the graph using property biding
    and CanvasJS
   -->
  <ngx-charts-line-chart
  id="lineChart"
  *ngIf="!reportsService.loading"
  [view]="view"      
  [animations]="animations"      
  [scheme]="colorScheme"
  [results]="graphResults"
  [gradient]="gradient"
  [xAxis]="showXAxis"
  [yAxis]="showYAxis"
  [legend]="showLegend"
  [showXAxisLabel]="showXAxisLabel"
  [showYAxisLabel]="showYAxisLabel"
  [xAxisLabel]="xAxisLabel"
  [yAxisLabel]="yAxisLabel"
  [autoScale]="autoScale"
  [timeline]="timeline"
  (window:resize)="onResize($event)"
  >
  </ngx-charts-line-chart>
</div>
